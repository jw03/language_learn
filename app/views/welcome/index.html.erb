<h1>Welcome#index</h1>
<p>Find me in app/views/welcome/index.html.erb</p>
<% if signed_in? %>

	<% if @teach_languages.count == 0 %>
		<div id="empty-preference">

				<%= form_for @user do |form| %>
						 <h1>What language you speak best?</h1>
		 <p>We still don't know what language you're good at. Tick the following that you're good at.</p>
					<ul>
						<% @languages.each do |x| %>
							<li>
								<%= x.name %> 
								<%= check_box("user", "teach_languages", {:multiple =>true }, x.name, nil) %>
							</li>
						<!-- end for do each -->
						<% end %>	
					</ul>
					<h1>What language you want to learn?</h1>
			<p>We still don't know what language you want to learn. Tick the following languages that you want to learn.</p>
					<ul>
					<% @languages.each do |x| %>
						<li>
							<%= x.name %> 
							<%= check_box("user", "learn_languages", {:multiple =>true }, x.name, nil) %>
						</li>
					<% end %>	
				</ul>
				<h1>What interest you?</h1>
			<p>Tick the following interest so that we can pair you up with people of similar interest!</p>
				<ul>
					<% @interests.each do |x| %>
						<li>
							<%= x.name %> 
							<%= check_box("user", "interests", {:multiple =>true }, x.name, nil) %>
						</li>
					<% end %>	
				</ul>
					<%= form.submit 'Submit'%>
				<!-- end for form -->
				<% end %>
		</div>
	<% else %>
	 <!-- end for if language to teach is nil -->

<div class="done">
<div id="language-teach">
			<h1>You're good at speaking:</h1>
			<ol>
				<% @teach_languages.each do |x| %>
					<li><%= x.name%></li>
				<% end %>
			</ol>
		</div>
		<div id="language-learn">
			<h1>You want to learn:</h1>
			<ol>
				<% @learn_languages.each do |x| %>
					<li><%= x.name%></li>
				<% end %>
			</ol>
		</div>
		<div id="user-interest">
			<h1>Your interest are:</h1>
			<ol>
				<% @user_interest.each do |x| %>
					<li><%= x.name%></li>
				<% end %>
			</ol>
		</div>
</div>
	<% end %>



<div id="host-a-chat">
	<h1>If you're ready, click here to start a chat!</h1>
		<%= form_tag("/room/#{current_user.name}", method: "post") do %>
	  <%= submit_tag("Host") %>
	  <% end %>
</div>

<div id="potential-match">
	<h2>Online users that match your language needs:</h2>
		<% unless @users.nil? %>
			<ul>	
				<% @users.each do |x| %>
				<li><%= x.email%></li>
				<%= form_tag("/room/#{x.name}", method: "get") do %>
				<%= f.hidden_field :guest, :value => current_user %>
				<%= f.hidden_field :start, :value => Time.now %>
				<%= f.hidden_field :host, :value => x.name %>
  			<%= submit_tag("Join") %>
					<% end %>
				<% end %>		
			</ul>
			<% end %>
</div>
	
<% else %>
  <div class="jumbotron">
    <div class="container">
      <h2 class="text-center">Welcome to your Language Exchange.</h2>
      <p class="text-center"><a href="#" class="btn" data-toggle="modal" data-target="#signin-modal">Get started</a></p>
    </div>
  </div>
<% end %>
